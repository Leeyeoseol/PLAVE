<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PLLI's Home for PLAVE (플레이브 팬페이지)</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    html { scroll-behavior: smooth; }
    body { font-family: 'Noto Sans KR', sans-serif; background-color: #F8F4E3; color: #3F3F3A; }
    .font-poppins { font-family: 'Poppins', sans-serif; }
    .cd-spin { animation: spin 12s linear infinite; }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .modal-backdrop { transition: opacity 0.3s ease; }
    .modal-content { transition: transform 0.3s ease, opacity 0.3s ease; }
    .member-card { cursor: pointer; transition: all 0.3s ease-in-out; }
    .member-card:hover { transform: translateY(-8px) scale(1.03); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
    .hero-background { position: relative; overflow: hidden; }
    .hero-bg-image { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0; }
    .hero-background::before { content: ""; position: absolute; inset: 0; background: rgba(63, 63, 58, 0.4); backdrop-filter: blur(2px) sepia(0.2); z-index: 1; }
    .hero-content { position: relative; z-index: 2; color: #FDFCF8; }
    .a4-photo { aspect-ratio: 210 / 297; width: 100%; object-fit: cover; }
    .cd-frame { position: relative; width: 10rem; height: 10rem; margin: 0 auto; display: flex; align-items: center; justify-content: center; }
    .cd-img { width: 100%; height: 100%; border-radius: 9999px; object-fit: cover; border: 4px solid #FCFBF4; box-sizing: border-box; z-index: 1; }
    .cd-hole { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 2rem; height: 2rem; background: #F8F4E3; border-radius: 9999px; z-index: 2; box-shadow: 0 0 0 2px #D6CBB2 inset; }
    .member-animal-icon { width: 36px; height: 36px; object-fit: contain; display: inline-block; margin-bottom: 0.5rem; }
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    .bg-yejun-light { background-color: rgba(126, 160, 183, 0.1); }
    .border-yejun { border-color: #7EA0B7; }
    .text-yejun { color: #7EA0B7; }
    .progress-yejun { background-image: linear-gradient(to right, #A8C0D0, #7EA0B7); }
    .bg-noah-light { background-color: rgba(155, 122, 155, 0.1); }
    .border-noah { border-color: #9B7A9B; }
    .text-noah { color: #9B7A9B; }
    .progress-noah { background-image: linear-gradient(to right, #B99FBA, #9B7A9B); }
    .bg-bamby-light { background-color: rgba(224, 176, 160, 0.1); }
    .border-bamby { border-color: #E0B0A0; }
    .text-bamby { color: #A04F5E; }
    .progress-bamby { background-image: linear-gradient(to right, #E8C8BE, #E0B0A0); }
    .bg-eunho-light { background-color: rgba(224, 122, 122, 0.1); }
    .border-eunho { border-color: #C66D6D; }
    .text-eunho { color: #B34B4B; }
    .progress-eunho { background-image: linear-gradient(to right, #D89898, #C66D6D); }
    .bg-hamin-light { background-color: rgba(140, 140, 140, 0.1); }
    .border-hamin { border-color: #8C8C8C; }
    .text-hamin { color: #6F6F6F; }
    .progress-hamin { background-image: linear-gradient(to right, #A7A7A7, #8C8C8C); }
  </style>
</head>
<body class="antialiased">
<header class="bg-[#F8F4E3]/90 backdrop-blur-sm sticky top-0 z-50 shadow-md border-b border-[#D6CBB2]">
  <div class="container mx-auto px-6 py-3 flex justify-between items-center">
    <a href="#" class="flex items-center space-x-3">
        <img src="/assets/플브-백.png" alt="PLAVE 로고" class="h-12 w-12 md:h-14 md:w-14 object-cover rounded-lg shadow-sm">
        <h1 class="hidden sm:block text-2xl md:text-3xl font-bold text-[#3F3F3A] font-poppins tracking-wider hover:text-[#7EA0B7] transition duration-300">
            PL<span class="text-[#7EA0B7]">A</span>VE
        </h1>
    </a>
    <nav class="hidden md:flex space-x-6 text-sm font-medium">
      <a href="#members" class="text-[#3F3F3A] hover:text-[#7EA0B7] transition duration-300">멤버</a>
      <a href="#music" class="text-[#3F3F3A] hover:text-[#7EA0B7] transition duration-300">음악 세계</a>
      <a href="#achievements" class="text-[#3F3F3A] hover:text-[#7EA0B7] transition duration-300">활동 및 성과</a>
      <a href="#gallery" class="text-[#3F3F3A] hover:text-[#7EA0B7] transition duration-300">갤러리</a>
    </nav>
    <button id="mobile-menu-button" class="md:hidden text-[#3F3F3A] focus:outline-none w-8 h-8 flex items-center justify-center">
      <i class="fas fa-bars fa-lg"></i>
    </button>
  </div>
  <div id="mobile-menu" class="hidden md:hidden bg-[#F8F4E3] border-t border-[#D6CBB2] shadow-md">
    <a href="#members" class="mobile-menu-link block py-3 px-6 text-sm text-[#3F3F3A] hover:bg-[#E0B0A0]/20 hover:text-[#A04F5E] transition duration-300">멤버</a>
    <a href="#music" class="mobile-menu-link block py-3 px-6 text-sm text-[#3F3F3A] hover:bg-[#E0B0A0]/20 hover:text-[#A04F5E] transition duration-300">음악 세계</a>
    <a href="#achievements" class="mobile-menu-link block py-3 px-6 text-sm text-[#3F3F3A] hover:bg-[#E0B0A0]/20 hover:text-[#A04F5E] transition duration-300">활동 및 성과</a>
    <a href="#gallery" class="mobile-menu-link block py-3 px-6 text-sm text-[#3F3F3A] hover:bg-[#E0B0A0]/20 hover:text-[#A04F5E] transition duration-300">갤러리</a>
  </div>
</header>

<main class="container mx-auto px-6 py-12">

  <section class="hero-background text-center my-16 rounded-3xl overflow-hidden p-0 shadow-xl min-h-[450px] flex items-center justify-center">
    <img src="/assets/240704_메디힐 배경화면.png" alt="플레이브 단체 사진" class="hero-bg-image" draggable="false" />
    <div class="hero-content flex flex-col items-center justify-center px-4">
      <h2 class="text-4xl md:text-6xl font-black font-poppins mb-4 drop-shadow-lg">WE ARE <span class="text-[#E0B0A0]">PLAVE!</span></h2>
      <p class="text-lg md:text-xl text-white max-w-3xl mx-auto leading-relaxed drop-shadow-md">플레이브는 현실 세계의 팬 '플리(PLLI)'와 소통하기 위해 가상 세계 '카엘룸'에서 온 5명의 버추얼 아이돌입니다. 그들의 음악, 세계관, 그리고 끝나지 않는 이야기를 탐험해보세요.</p>
    </div>
  </section>
  
  <section id="members" class="my-24 scroll-mt-20">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-16 text-[#3F3F3A]">멤버 소개</h2>
    <div id="member-cards" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-8"></div>
  </section>
  
  <section id="music" class="my-24 scroll-mt-20">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-16 text-[#3F3F3A]">음악 세계</h2>
    <div class="bg-[#FCFBF4] p-6 sm:p-8 rounded-2xl shadow-lg border border-[#D6CBB2]">
      <h3 class="text-2xl font-bold text-[#7EA0B7] mb-8 text-center">디스코그래피</h3>
      <div class="relative">
        <div id="album-carousel" class="flex overflow-x-auto snap-x snap-mandatory py-8 -mx-4 px-4 space-x-8 no-scrollbar"></div>
        <button id="prev-btn" class="absolute left-0 sm:-left-4 top-1/2 -translate-y-1/2 bg-[#F8F4E3]/70 hover:bg-[#F8F4E3] rounded-full w-12 h-12 flex items-center justify-center shadow-lg z-10 transition duration-300 transform hover:scale-110 focus:outline-none border border-[#D6CBB2]">
          <i class="fas fa-chevron-left text-[#7EA0B7]"></i>
        </button>
        <button id="next-btn" class="absolute right-0 sm:-right-4 top-1/2 -translate-y-1/2 bg-[#F8F4E3]/70 hover:bg-[#F8F4E3] rounded-full w-12 h-12 flex items-center justify-center shadow-lg z-10 transition duration-300 transform hover:scale-110 focus:outline-none border border-[#D6CBB2]">
          <i class="fas fa-chevron-right text-[#7EA0B7]"></i>
        </button>
      </div>
    </div>
  </section>
  
  <section id="achievements" class="my-24 scroll-mt-20">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-16 text-[#3F3F3A]">활동 및 성과</h2>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <div class="bg-[#FCFBF4] rounded-2xl p-8 shadow-lg transition duration-300 hover:shadow-xl border border-[#D6CBB2]">
        <h3 class="text-xl font-bold text-yejun mb-4 flex items-center"><i class="fas fa-trophy mr-3 text-[#E0B0A0]"></i>주요 성과</h3>
        <ul class="space-y-3 list-disc list-inside text-[#3F3F3A] text-base">
          <li>MBC '쇼! 음악중심' 1위 ('WAY 4 LUV') <span class="font-sans text-xs text-[#6B6B61] font-medium">(버추얼 그룹 최초)</span></li>
          <li>2024 K월드 드림 어워즈 '아이돌플러스 인기상'</li>
          <li>2024 유니버설 슈퍼스타 어워즈 '유니버설 슈퍼 루키'</li>
          <li>2023 한터뮤직어워즈 '특별상 (버추얼 아티스트)'</li>
          <li>첫 팬 콘서트 'Hello, Asterum!' 전석 매진</li>
          <li>데뷔 1주년 기념 팝업스토어 성료</li>
        </ul>
      </div>
      <div class="bg-[#FCFBF4] rounded-2xl p-8 shadow-lg transition duration-300 hover:shadow-xl border border-[#D6CBB2]">
        <h3 class="text-xl font-bold text-noah mb-4 flex items-center"><i class="fas fa-globe-americas mr-3"></i>세계관과 기술</h3>
        <p class="text-base text-[#3F3F3A] leading-relaxed"><strong class="font-bold">블래스트(VLAST)</strong>의 혁신적인 기술력으로 탄생했습니다. 실시간 모션 캡처와 렌더링 기술은 멤버들의 생생한 표정과 움직임을 구현하며, 팬들에게 시공간을 초월한 소통 경험을 선사합니다.</p>
        <p class="text-base text-[#3F3F3A] leading-relaxed mt-2"><strong class="font-bold text-noah">카엘룸</strong>(멤버들의 본래 세계)과 <strong class="font-bold text-yejun">아스테룸</strong>(소통을 위한 중간 지대)을 오가는 서사는 음악, 뮤직비디오, 라이브 방송 등 모든 활동의 기반이 됩니다.</p>
      </div>
    </div>
  </section>

  <section id="gallery" class="my-24 scroll-mt-20">
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-16 text-[#3F3F3A]">PLAVE 포토 갤러리</h2>
    <div class="relative max-w-5xl mx-auto">
      <div id="photo-carousel" class="overflow-hidden bg-[#FCFBF4] p-4 rounded-2xl shadow-lg border border-[#D6CBB2]"></div>
      <button id="photo-prev" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-12 bg-[#F8F4E3]/80 hover:bg-[#F8F4E3] rounded-full w-12 h-12 flex items-center justify-center shadow-lg z-10 transition duration-300 border border-[#D6CBB2] hidden sm:flex">
        <i class="fas fa-chevron-left text-[#7EA0B7]"></i>
      </button>
      <button id="photo-next" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-12 bg-[#F8F4E3]/80 hover:bg-[#F8F4E3] rounded-full w-12 h-12 flex items-center justify-center shadow-lg z-10 transition duration-300 border border-[#D6CBB2] hidden sm:flex">
        <i class="fas fa-chevron-right text-[#7EA0B7]"></i>
      </button>
    </div>
  </section>
</main>

<footer class="bg-[#EBE9D9] border-t border-[#D6CBB2] mt-24">
  <div class="container mx-auto px-6 py-8 text-center text-[#6B6B61]">
    <p>&copy; 2025 PLAVE Fan Page. All rights reserved.</p>
    <p class="text-xs mt-2">이 페이지는 팬에 의해 제작되었으며, 비공식 페이지입니다.</p>
  </div>
</footer>

<!-- 멤버 상세 모달 -->
<div id="member-modal" class="fixed inset-0 bg-[#3F3F3A]/70 hidden items-center justify-center p-4 z-[999] modal-backdrop opacity-0">
  <div id="modal-content" class="bg-[#FCFBF4] rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto transform scale-95 opacity-0 modal-content relative border border-[#D6CBB2]"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- DATA (Image paths updated to /assets/) ---
    const members = [
        { id: 'yejun', name: '예준', en_name: 'Yejun', animal_icon: '/assets/동물_돌고래.ico', photo: '/assets/포스터_예준.png', color_class: 'yejun', position: '리더, 메인보컬', birthday: '09.12', description: '팀의 중심을 잡는 리더이자 감미로운 목소리의 소유자. 작사, 작곡에도 능한 만능 프로듀서.', details: '부드럽고 깊은 감성의 보컬로 곡의 분위기를 이끌며, 앨범 제작 전반을 총괄하는 역할을 맡습니다. 팬들과의 소통에 적극적이며, 카엘룸 내 희망과 꿈을 상징합니다.', stats: { '보컬': 95, '프로듀싱': 90, '리더십': 100, '비주얼': 85 } },
        { id: 'noah', name: '노아', en_name: 'Noah', animal_icon: '/assets/동물_알파카.ico', photo: '/assets/포스터_노아.png', color_class: 'noah', position: '리드보컬', birthday: '02.10', description: '청량하고 맑은 음색이 매력적인 보컬. 뛰어난 춤 실력과 무대 위 재치를 겸비한 분위기 메이커.', details: '맑고 청아한 음색으로 스토리텔링에 강점을 보입니다. 보컬 디렉팅에 참여하며 고음 파트를 주로 담당합니다. 현실과 가상 세계를 잇는 다리 역할을 합니다.', stats: { '보컬': 90, '댄스': 85, '예능감': 95, '비주얼': 90 } },
        { id: 'bamby', name: '밤비', en_name: 'Bamby', animal_icon: '/assets/동물_사슴.ico', photo: '/assets/포스터_밤비.png', color_class: 'bamby', position: '메인댄서, 보컬', birthday: '07.15', description: '귀엽고 사랑스러운 매력과 파워풀한 댄스 실력의 반전 매력. 팬들을 향한 애정이 남다르다.', details: '뛰어난 리듬감과 무대 매너로 퍼포먼스의 중심을 잡습니다. 안무 제작과 무대 연출에 아이디어를 제공하며, 자유로운 영혼과 도전을 상징합니다.', stats: { '댄스': 100, '보컬': 80, '애교': 95, '비주얼': 90 } },
        { id: 'eunho', name: '은호', en_name: 'Eunho', animal_icon: '/assets/동물_늑대.ico', photo: '/assets/포스터_은호.png', color_class: 'eunho', position: '메인래퍼, 보컬', birthday: '05.24', description: '날카롭고 정확한 래핑과 중저음의 매력적인 보컬. 음악에 대한 깊은 이해를 바탕으로 작곡에 참여한다.', details: '강렬한 랩과 사회적 메시지를 담은 가사로 깊은 울림을 줍니다. 랩 메이킹과 프로듀싱에 참여하며, 현실 비판과 내면 성찰의 메시지를 상징합니다.', stats: { '랩': 100, '프로듀싱': 85, '카리스마': 90, '보컬': 80 } },
        { id: 'hamin', name: '하민', en_name: 'Hamin', animal_icon: '/assets/동물_고양이.ico', photo: '/assets/포스터_하민.png', color_class: 'hamin', position: '리드래퍼, 메인댄서', birthday: '11.01', description: '팀의 막내이자 압도적인 피지컬을 자랑하는 퍼포머. 태권도 유단자로, 절도 있는 춤선이 특징.', details: '감각적인 리듬감과 분위기 메이킹에 탁월한 래퍼입니다. 음악 편곡과 사운드 디자인에 협업하며, 내면의 갈등과 성장의 서사를 담당합니다.', stats: { '댄스': 95, '랩': 85, '피지컬': 100, '무대 장악력': 90 } }
    ];
    
    const albums = [
        { title: "기다릴게", type: "Digital Single", date: "2023.03.12", img: "/assets/CD키링_기다릴게_CD_cover.png" },
        { title: "여섯 번째 여름", type: "1st Mini Album", date: "2023.08.24", img: "/assets/CD키링_여섯번째여름_CD_cover.png" },
        { title: "Merry PLLIstmas", type: "Digital Single", date: "2023.12.12", img: "/assets/CD키링_메리플리_CD_cover.png" },
        { title: "WAY 4 LUV", type: "2nd Mini Album", date: "2024.02.26", img: "/assets/CD키링_WAY4LUV_CD_cover.png" },
        { title: "Pump Up The Volume!", type: "Digital Single", date: "2024.05.31", img: "/assets/CD키링_PUTV_CD_cover.png" },
        { title: "왜요왜요왜", type: "Digital Single", date: "2024.05.31", img: "/assets/CD키링_왜요왜요왜_CD_cover.png" },
    ];
    
    const photoGroups = [
        [
            "/assets/5명-누움_노아.png", "/assets/5명-누움_밤비.png", "/assets/5명-누움_예준.png",
            "/assets/5명-누움_은호.png", "/assets/5명-누움_하민.png", "/assets/5명-누움.png"
        ],
        [
            "/assets/unnamed (6).webp", "/assets/unnamed (7).webp", "/assets/unnamed (8).webp",
            "/assets/unnamed (9).webp", "/assets/unnamed (10).webp", "/assets/unnamed (11).webp"
        ],
        [
            "/assets/unnamed (14).webp", "/assets/unnamed (15).webp", "/assets/unnamed (16).webp",
            "/assets/unnamed (17).webp", "/assets/unnamed (18).webp", "/assets/unnamed (19).webp",
            "/assets/unnamed (20).webp"
        ]
    ];
    // --- RENDER FUNCTIONS ---

    function renderMemberCards() {
        const container = document.getElementById('member-cards');
        if (!container) return;
        container.innerHTML = members.map(member => `
            <div class="member-card bg-[#FCFBF4] rounded-2xl p-4 shadow-lg text-center border border-[#D6CBB2] bg-${member.color_class}-light" data-member-id="${member.id}">
                <div class="rounded-lg overflow-hidden mb-4 border border-[#D6CBB2]">
                    <img src="${member.photo}" alt="${member.name} 사진" class="a4-photo w-full" draggable="false" />
                </div>
                <img src="${member.animal_icon}" alt="${member.name} 동물 아이콘" class="member-animal-icon mx-auto" draggable="false" />
                <h3 class="text-xl font-bold text-[#3F3F3A]">${member.name} <span class="text-base text-${member.color_class} font-poppins">(${member.en_name})</span></h3>
                <p class="text-sm text-${member.color_class} font-semibold">${member.position}</p>
            </div>
        `).join('');
    }

    function renderAlbumCarousel() {
        const container = document.getElementById('album-carousel');
        if (!container) return;
        container.innerHTML = albums.map(album => `
            <div class="flex-shrink-0 snap-center w-56 bg-[#EBE9D9] rounded-2xl shadow-md p-5 flex flex-col items-center text-center border border-[#D6CBB2]">
                <div class="cd-frame mb-4 cd-spin">
                    <img src="${album.img}" alt="${album.title}" class="cd-img" draggable="false" />
                    <div class="cd-hole"></div>
                </div>
                <h4 class="font-bold text-lg text-[#3F3F3A]">${album.title}</h4>
                <p class="text-xs text-[#7EA0B7] font-medium">${album.type}</p>
                <p class="text-xs text-[#6B6B61]">${album.date}</p>
            </div>
        `).join('');
    }
    
    function renderPhotoGallery(index = 0) {
        const container = document.getElementById('photo-carousel');
        if (!container) return;
        const currentGroup = photoGroups[index] || [];
        container.innerHTML = `
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 transition-opacity duration-500">
                ${currentGroup.map(src => `<div class="rounded-lg overflow-hidden shadow-md aspect-w-1 aspect-h-1"><img src="${src}" alt="PLAVE Gallery Photo" class="w-full h-full object-cover" loading="lazy" draggable="false"></div>`).join('')}
            </div>
            <div class="flex justify-center items-center mt-6 gap-3">
                ${photoGroups.map((_, i) => `<button data-index="${i}" class="gallery-dot w-3 h-3 rounded-full transition ${i === index ? 'bg-[#7EA0B7] scale-125' : 'bg-[#D6CBB2] hover:bg-[#b9af9a]'}"></button>`).join('')}
            </div>
        `;
    }

    // --- MODAL LOGIC ---
    const modal = document.getElementById('member-modal');
    const modalContent = document.getElementById('modal-content');

    function openMemberModal(member) {
        if (!modal || !modalContent) return;
        
        const statsHtml = Object.entries(member.stats).map(([key, value]) => `
            <div>
                <div class="flex justify-between mb-1 text-sm font-medium text-${member.color_class}">
                    <span>${key}</span>
                    <span>${value}</span>
                </div>
                <div class="w-full bg-[#EBE9D9] rounded-full h-2.5 border border-[#D6CBB2]">
                    <div class="h-full rounded-full progress-${member.color_class}" style="width: ${value}%"></div>
                </div>
            </div>
        `).join('');

        modalContent.innerHTML = `
            <button id="close-modal-btn" class="absolute top-4 right-4 text-[#B0A499] hover:text-[#A04F5E] transition duration-200 z-10">
                <i class="fas fa-times fa-lg"></i>
            </button>
            <div class="p-6">
                <div class="rounded-lg overflow-hidden mb-4 border border-[#D6CBB2] shadow-md">
                     <img src="${member.photo}" alt="${member.name} 사진" class="a4-photo w-full" draggable="false" />
                </div>
                <div class="text-center">
                    <img src="${member.animal_icon}" alt="${member.name} 동물 아이콘" class="member-animal-icon mx-auto" draggable="false" />
                    <h3 class="text-2xl font-bold text-[#3F3F3A]">${member.name} <span class="text-lg text-${member.color_class} font-poppins">(${member.en_name})</span></h3>
                    <p class="font-semibold text-${member.color_class}">${member.position}</p>
                    <p class="text-sm text-gray-500 mb-4">Birthday: ${member.birthday}</p>
                    <p class="text-base text-[#3F3F3A] leading-relaxed border-t border-b border-[#D6CBB2] py-4 my-4">${member.details}</p>
                    <div class="mt-4 text-left space-y-3">
                        <h4 class="font-bold mb-2 text-center text-${member.color_class}">능력치</h4>
                        ${statsHtml}
                    </div>
                </div>
            </div>
        `;
        
        modal.classList.remove('hidden');
        setTimeout(() => {
            modal.classList.remove('opacity-0');
            modalContent.classList.remove('scale-95', 'opacity-0');
        }, 10);
    }

    function closeMemberModal() {
        if (!modal || !modalContent) return;
        modal.classList.add('opacity-0');
        modalContent.classList.add('scale-95', 'opacity-0');
        setTimeout(() => modal.classList.add('hidden'), 300);
    }

    // --- EVENT LISTENERS ---

    // Member cards
    document.getElementById('member-cards')?.addEventListener('click', e => {
        const card = e.target.closest('.member-card');
        if (card && card.dataset.memberId) {
            const member = members.find(m => m.id === card.dataset.memberId);
            if (member) openMemberModal(member);
        }
    });
    
    // Modal closing
    modal?.addEventListener('click', e => {
        if (e.target === modal || e.target.closest('#close-modal-btn')) {
            closeMemberModal();
        }
    });
    
    // Album carousel buttons
    const albumCarousel = document.getElementById('album-carousel');
    if (albumCarousel) {
        const scrollAmount = () => (albumCarousel.querySelector('div')?.offsetWidth || 224) + 32; // card width + gap
        document.getElementById('prev-btn')?.addEventListener('click', () => albumCarousel.scrollBy({ left: -scrollAmount(), behavior: 'smooth' }));
        document.getElementById('next-btn')?.addEventListener('click', () => albumCarousel.scrollBy({ left: scrollAmount(), behavior: 'smooth' }));
    }

    // Photo gallery
    const photoContainer = document.getElementById('photo-carousel');
    let currentPhotoGroup = 0;
    
    function updateGallery() {
        renderPhotoGallery(currentPhotoGroup);
    }

    document.getElementById('photo-prev')?.addEventListener('click', () => {
        currentPhotoGroup = (currentPhotoGroup - 1 + photoGroups.length) % photoGroups.length;
        updateGallery();
    });
    document.getElementById('photo-next')?.addEventListener('click', () => {
        currentPhotoGroup = (currentPhotoGroup + 1) % photoGroups.length;
        updateGallery();
    });
    photoContainer?.addEventListener('click', e => {
        if(e.target.matches('.gallery-dot')) {
            currentPhotoGroup = parseInt(e.target.dataset.index);
            updateGallery();
        }
    });
    
    // Mobile menu
    const mobileMenuBtn = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuBtn?.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
    document.querySelectorAll('.mobile-menu-link').forEach(link => {
        link.addEventListener('click', () => mobileMenu.classList.add('hidden'));
    });

    // --- INITIAL RENDER ---
    renderMemberCards();
    renderAlbumCarousel();
    renderPhotoGallery();
});
</script>

</body>
</html>
